[tox]
skipsdist = true

# Tox wrapper chaining to sub directories
#
# Based on EventLogging 6236f78c
# https://gerrit.wikimedia.org/r/#/c/124325/
[testenv:clouseau]
toxworkdir={toxinidir}/clouseau
deps = tox
commands = tox -c {toxinidir}/clouseau/tox.ini

[testenv:flake8]
deps = flake8
commands = flake8 {posargs}

[flake8]
exclude =
    .git,
    __pycache__,
    .tox,
    # Directories with their own flake8 rules
    ./clouseau,
    # Legacy directories that doesn't yet comply with flake8
    checkhosts/**,
    compare-puppet-catalogs/**,
    fwconfigtool/**,
    geturls/**,
    maintain-replicas/**,
    salt-misc/**,
    swift-synctool/**,
    swiftcleaner/**,
    swiftrepl/**,
    txt2yaml/**,
    udpprofile/**,
